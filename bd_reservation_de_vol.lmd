USE service_reservation;

-- Suppression des données existantes (dans l'ordre inverse des dépendances)
DELETE FROM réservations_sièges;
DELETE FROM réservations_clients;
DELETE FROM réservations;
DELETE FROM prix_par_classe;
DELETE FROM vol_statut;
DELETE FROM vols;
DELETE FROM trajets;
DELETE FROM avions_sièges;
DELETE FROM sièges;
DELETE FROM avions;
DELETE FROM aéroports;
DELETE FROM villes;
DELETE FROM clients;

-- Réinitialisation des auto-incréments
ALTER TABLE clients AUTO_INCREMENT = 1;
ALTER TABLE villes AUTO_INCREMENT = 1;
ALTER TABLE aéroports AUTO_INCREMENT = 1;
ALTER TABLE avions AUTO_INCREMENT = 1;
ALTER TABLE sièges AUTO_INCREMENT = 1;
ALTER TABLE trajets AUTO_INCREMENT = 1;
ALTER TABLE vols AUTO_INCREMENT = 1;

-- Insertion des clients
INSERT INTO clients (nom, prénom, numéro_passeport, addresse, email, numéro_téléphone) VALUES
('Dubois', 'Jean', 'FR123456', '123 rue de Paris, Paris', 'jean.dubois@email.com', '+33123456789'),
('Martin', 'Sophie', 'FR789012', '456 avenue des Champs-Élysées, Paris', 'sophie.martin@email.com', '+33234567890'),
('Bernard', 'Pierre', 'FR345678', '789 boulevard Saint-Germain, Paris', 'pierre.bernard@email.com', '+33345678901'),
('Petit', 'Marie', 'FR901234', '321 rue de Rivoli, Paris', 'marie.petit@email.com', '+33456789012'),
('Robert', 'Anne', 'FR567890', '654 avenue Montaigne, Paris', 'anne.robert@email.com', '+33567890123'),
('Lambert', 'Paul', 'FR111222', '789 rue de la Paix, Lyon', 'paul.lambert@email.com', '+33678901234'),
('Durand', 'Claire', 'FR222333', '456 avenue Jean Jaurès, Marseille', 'claire.durand@email.com', '+33789012345'),
('Moreau', 'Thomas', 'FR333444', '123 boulevard Victor Hugo, Lille', 'thomas.moreau@email.com', '+33890123456'),
('Lefebvre', 'Julie', 'FR444555', '987 rue Gambetta, Toulouse', 'julie.lefebvre@email.com', '+33901234567'),
('Garcia', 'Michel', 'FR555666', '654 avenue de la République, Nice', 'michel.garcia@email.com', '+33012345678'),
('Tremblay', 'Jacques', 'CA123456', '123 rue Sainte-Catherine, Montréal', 'jacques.tremblay@email.com', '+15141234567'),
('Roy', 'Marie-Claude', 'CA234567', '456 boulevard René-Lévesque, Montréal', 'mc.roy@email.com', '+15142345678');

-- Insertion des villes
INSERT INTO villes (nom, pays, url_photo) VALUES
('Paris', 'FR', 'https://plus.unsplash.com/premium_photo-1661919210043-fd847a58522d?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'),
('Londres', 'GB', 'https://images.unsplash.com/photo-1526129318478-62ed807ebdf9?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'),
('New York', 'US', 'https://images.unsplash.com/photo-1516893842880-5d8aada7ac05?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'),
('Tokyo', 'JP', 'https://images.unsplash.com/photo-1554797589-7241bb691973?q=80&w=1936&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'),
('Dubai', 'AE', 'https://images.unsplash.com/photo-1518684079-3c830dcef090?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'),
('Madrid', 'ES', 'https://plus.unsplash.com/premium_photo-1697730214411-90916c40f30d?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'),
('Rome', 'IT', 'https://plus.unsplash.com/premium_photo-1675975706513-9daba0ec12a8?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'),
('Berlin', 'DE', 'https://images.unsplash.com/photo-1528728329032-2972f65dfb3f?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'),
('Amsterdam', 'NL', 'https://images.unsplash.com/photo-1542139368-847f8e3fbc6b?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8YW1zdGVyZGFtfGVufDB8fDB8fHww'),
('Singapore', 'SG', 'https://images.unsplash.com/photo-1508964942454-1a56651d54ac?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'),
('Montréal', 'CA', 'https://images.unsplash.com/photo-1715191307694-ee4e57b473d6?q=80&w=2127&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');

-- Insertion des aéroports
INSERT INTO aéroports (code, nom, ville_id, addresse) VALUES
('CDG', 'Charles de Gaulle', 1, 'Route de l''Aéroport, 95700 Roissy-en-France'),
('ORY', 'Orly', 1, '94390 Orly'),
('LHR', 'Heathrow', 2, 'Longford TW6, Royaume-Uni'),
('JFK', 'John F. Kennedy', 3, 'Queens, NY 11430, États-Unis'),
('NRT', 'Narita', 4, 'Narita, Préfecture de Chiba, Japon'),
('DXB', 'Dubai International', 5, 'Dubai - Émirats arabes unis'),
('MAD', 'Adolfo Suárez Madrid–Barajas', 6, 'Av de la Hispanidad, Madrid, Espagne'),
('FCO', 'Leonardo da Vinci', 7, 'Via dell'' Aeroporto di Fiumicino, Italie'),
('TXL', 'Berlin Brandenburg', 8, 'Flughafen Str., Schönefeld, Allemagne'),
('AMS', 'Amsterdam Schiphol', 9, 'Evert van de Beekstraat 202, Pays-Bas'),
('YUL', 'Pierre-Elliott-Trudeau', 11, '975 Romeo-Vachon Blvd N, Dorval, QC H4Y 1H1, Canada');

-- Insertion des avions
INSERT INTO avions (type) VALUES
('Airbus A320'),
('Boeing 737'),
('Airbus A380'),
('Boeing 787'),
('Airbus A350'),
('Boeing 777'),
('Airbus A330'),
('Boeing 747'),
('Airbus A321'),
('Boeing 757');

-- Insertion des sièges
INSERT INTO sièges (numéro_siège, classe) VALUES
('1A', 'première'),
('1B', 'première'),
('1C', 'première'),
('1D', 'première'),
('2A', 'business'),
('2B', 'business'),
('2C', 'business'),
('2D', 'business'),
('3A', 'économique'),
('3B', 'économique'),
('3C', 'économique'),
('3D', 'économique'),
('4A', 'économique'),
('4B', 'économique'),
('4C', 'économique');

-- Insertion des trajets
INSERT INTO trajets (numéro_trajet, id_aéroport_debut, id_aéroport_fin) VALUES
('PAR-LON-001', 1, 3),
('PAR-NYC-001', 1, 4),
('LON-PAR-001', 3, 1),
('NYC-PAR-001', 4, 1),
('PAR-TYO-001', 1, 5),
('PAR-DXB-001', 1, 6),
('LON-NYC-001', 3, 4),
('NYC-TYO-001', 4, 5),
('TYO-DXB-001', 5, 6),
('DXB-PAR-001', 6, 1),
('PAR-MTL-001', 1, 11),
('MTL-PAR-001', 11, 1),
('NYC-MTL-001', 4, 11),
('MTL-NYC-001', 11, 4);

-- Insertion des vols
INSERT INTO vols (date_départ, date_arrivée, avion_id, trajet_id, poids_max_bag, durée) VALUES
('2024-11-04 10:00:00', '2024-11-04 11:30:00', 1, 1, 23, 90),
('2024-11-04 14:00:00', '2024-11-04 22:00:00', 2, 2, 23, 480),
('2024-11-05 09:00:00', '2024-11-05 10:30:00', 3, 3, 23, 90),
('2024-11-05 11:00:00', '2024-11-05 19:00:00', 4, 4, 23, 480),
('2024-11-06 23:00:00', '2024-11-07 18:00:00', 5, 5, 23, 720),
('2024-11-07 08:00:00', '2024-11-07 14:00:00', 6, 6, 23, 360),
('2024-11-07 15:00:00', '2024-11-07 22:00:00', 7, 7, 23, 420),
('2024-11-08 10:00:00', '2024-11-09 02:00:00', 8, 8, 23, 960),
('2024-11-08 14:00:00', '2024-11-09 00:00:00', 9, 9, 23, 600),
('2024-11-09 09:00:00', '2024-11-09 15:00:00', 10, 10, 23, 360),
('2024-11-10 08:00:00', '2024-11-10 15:00:00', 1, 11, 23, 420),
('2024-11-10 17:00:00', '2024-11-11 00:00:00', 2, 12, 23, 420),
('2024-11-11 09:00:00', '2024-11-11 11:00:00', 3, 13, 23, 120),
('2024-11-11 14:00:00', '2024-11-11 16:00:00', 4, 14, 23, 120);

-- Insertion des relations vols-sièges
INSERT INTO vols_sièges (vol_id, siège_id, statut_siege) VALUES
(1, 1, 'occupé'),
(1, 2, 'occupé'),
(1, 3, 'occupé'),
(1, 4, 'occupé'),
(1, 5, 'occupé'),
(2, 6, 'occupé'),
(2, 7, 'occupé'),
(2, 8, 'occupé'),
(2, 9, 'occupé'),
(2, 10, 'occupé'),
(3, 11, 'occupé'),
(3, 12, 'occupé'),
(3, 13, 'occupé'),
(3, 14, 'occupé'),
(3, 15, 'occupé');

-- Insertion des statuts de vol
INSERT INTO vol_statut (id_vol, statut, heure) VALUES
(1, 'en attente', '2024-11-04 09:00:00'),
(2, 'en attente', '2024-11-04 13:00:00'),
(3, 'en attente', '2024-11-05 08:00:00'),
(4, 'en attente', '2024-11-05 10:00:00'),
(5, 'en attente', '2024-11-06 22:00:00'),
(6, 'en attente', '2024-11-07 07:00:00'),
(7, 'en attente', '2024-11-07 14:00:00'),
(8, 'en attente', '2024-11-08 09:00:00'),
(9, 'en attente', '2024-11-08 13:00:00'),
(10, 'en attente', '2024-11-09 08:00:00'),
(11, 'en attente', '2024-11-10 07:00:00'),
(12, 'en attente', '2024-11-10 16:00:00'),
(13, 'en attente', '2024-11-11 08:00:00'),
(14, 'en attente', '2024-11-11 13:00:00');

-- Insertion des prix par classe
INSERT INTO prix_par_classe (id, prix_économique, prix_affaire, prix_première, id_vol) VALUES
(1, 200.00, 600.00, 1200.00, 1),
(2, 800.00, 2400.00, 4800.00, 2),
(3, 200.00, 600.00, 1200.00, 3),
(4, 800.00, 2400.00, 4800.00, 4),
(5, 1000.00, 3000.00, 6000.00, 5),
(6, 400.00, 1200.00, 2400.00, 6),
(7, 600.00, 1800.00, 3600.00, 7),
(8, 1200.00, 3600.00, 7200.00, 8),
(9, 800.00, 2400.00, 4800.00, 9),
(10, 400.00, 1200.00, 2400.00, 10),
(11, 600.00, 1800.00, 3600.00, 11),
(12, 600.00, 1800.00, 3600.00, 12),
(13, 300.00, 900.00, 1800.00, 13),
(14, 300.00, 900.00, 1800.00, 14);

-- Insertion des réservations
INSERT INTO réservations (id, numéro_réservation, id_vol, classe, siège_selectionné, bagages) VALUES
(1, 'RES001', 1, 'économique', '3A', 1),
(2, 'RES002', 2, 'business', '2A', 2),
(3, 'RES003', 3, 'première', '1A', 2),
(4, 'RES004', 4, 'économique', '3B', 1),
(5, 'RES005', 5, 'business', '2B', 2),
(6, 'RES006', 6, 'première', '1C', 2),
(7, 'RES007', 7, 'économique', '3C', 1),
(8, 'RES008', 8, 'business', '2C', 2),
(9, 'RES009', 9, 'première', '1D', 2),
(10, 'RES010', 10, 'économique', '3D', 1),
(11, 'RES011', 11, 'économique', '4A', 1),
(12, 'RES012', 12, 'business', '2D', 2);

-- Insertion des relations réservations-clients
INSERT INTO réservations_clients (id_clients, id_réservation) VALUES
(1, 1),
(2, 2),
(3, 3),
(4, 4),
(5, 5),
(6, 6),
(7, 7),
(8, 8),
(9, 9),
(10, 10),
(11, 11),
(12, 12);

-- Insertion des relations réservations-sièges
INSERT INTO réservations_sièges (id_réservation, id_siège) VALUES
(1, 9),   
(2, 5),
(3, 1),
(4, 10),
(5, 6),
(6, 3),
(7, 11),
(8, 7), 
(9, 4),
(10, 12), 
(11, 13), 
(12, 8); 